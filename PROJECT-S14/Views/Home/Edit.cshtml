@model Article
@{
	ViewData["Title"] = "Modifica Prodotto";
}

<div>
	<form method="post" asp-controller="Home" asp-action="SaveEdit" asp-route-id="@Model.Id">
		<div>
			<label for="name" asp-for="Name" class="form-label"></label>
			<input id="name" asp-for="Name" class="form-control" />
			<span class="text-danger" asp-validation-for="Name"></span>
		</div>

		<div>
			<label for="price" asp-for="Price" class="form-label"></label>
			<input id="price" asp-for="Price" class="form-control" />
			<span class="text-danger" asp-validation-for="Price"></span>
		</div>

		<div>
			<label for="description" asp-for="Description" class="form-label"></label>
			<textarea id="description" asp-for="Description" class="form-control" ></textarea>
			<span class="text-danger" asp-validation-for="Description"></span>
		</div>

		<div>
			<label for="thumbnail" asp-for="Thumbnail" class="form-label"></label>
			<input id="thumbnail" asp-for="Thumbnail" class="form-control" />
			<span class="text-danger" asp-validation-for="Thumbnail"></span>
		</div>

		<div>
			<label for="image" asp-for="Images" class="form-label"></label>
			@foreach (var image in Model.Images)
			{
				<input id="image" asp-for="Images" value="@image" class="form-control" />
			}
		</div>
		<div id="imgInput"></div>
		<button class="btn border-1 border-dark" id="btnAddImg" type="button">aggiungi immagine aggiuntiva</button>

		<div>
			<button class="btn btn-success" type="submit">Save</button>
			<button class="btn btn-warning" type="reset">Reset</button>
			<a asp-controller="Home" asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-danger">Elimina Articolo</a>
		</div>
	</form>
</div>
@section Scripts {
	<script>
		document.getElementById('btnAddImg').addEventListener('click', function() {
			let newInput = document.createElement('div');
			newInput.innerHTML = '<input id="image" name="Images" class="form-control" />';

			document.getElementById('imgInput').appendChild(newInput);
		});
				document.getElementById("price").addEventListener("input", function() {
			this.value = this.value.replace('.', ',');
		});
	</script>
}
